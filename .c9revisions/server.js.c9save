{"ts":1360162569970,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"\r\n\r\n\r\nvar express = require('express'),\r\n    request = require('request'),\r\n    fs = require(\"fs\"),\r\n    Browser  = require(\"zombie\");\r\n    \r\n    \r\n\r\nvar poster =  require(\"poster\");\r\n\r\n\r\n\r\nvar app = express();\r\n    \r\napp.configure(function () {\r\n \r\n  app.use(express.bodyParser({ \r\n            uploadDir:'./public/img',\r\n            keepExtensions: true}));\r\n  app.use(express.methodOverride());\r\n  app.use(express.cookieParser());\r\n  app.use(express.session({ secret: 'aviguy' }));\r\n  app.use(app.router);\r\n\r\n  app.use(express.static(__dirname + '/public'));\r\n});\r\n\r\n\r\n\r\napp.get('/', function (req, res) {\r\n\r\n  console.log(\"/  called #############################\");\r\n \r\n  fs.readFile(__dirname + '/public/index.htm', 'utf8', function (err, text) {\r\n    if (err)\r\n      res.send(\"oops\");\r\n    res.send(text);\r\n  });\r\n \r\n}); \r\n\r\n\r\n  \r\napp.post('/upload.php',  function (req, res) {\r\n   \r\n   \r\n    console.log('///////////////upload.phps');    \r\n   \r\n    if(!req.files.img)\r\n     res.send('error');\r\n    \r\n    /*var dest =  './public/img/'+req.files.img.name;\r\n    var log = fs.createWriteStream(dest, { 'flags': 'w' });\r\n    log.end(req.files.img);*/\r\n        \r\n    console.log(\"after copy\");\r\n    \r\n    var indx = req.files.img.path.lastIndexOf('/');\r\n    console.log('indx' +indx);\r\n    var tmpName =  req.files.img.path.substring(indx);\r\n    \r\n    var imgUrl = \"http://\"+ req.host +\"/img/\"+tmpName;     \r\n    console.log('imgUrl = '+imgUrl);\r\n    \r\n     var options = {\r\n      uploadUrl : 'http://www.google.com/searchbyimage/upload',\r\n      method: 'POST',\r\n      fileId: 'encoded_image',\r\n    };\r\n        \r\n        poster.post(imgUrl, options, function(err, data) {\r\n           \r\n            \r\n         \r\n          if (err) {\r\n              res.send(err);\r\n          }\r\n          var mtch = data.match(\"HREF=\\\"([^\\\"]*)\")\r\n         \r\n          if(mtch && mtch.length ==2) {\r\n            \r\n            \r\n            console.log(\"navigating to \" + mtch[1]);\r\n            \r\n            \r\n            \r\n           \r\n            var browser = new Browser();\r\n            var http = require(\"http\");\r\n            var _res = res;\r\n            \r\n            /* browser.visit(mtch[1], {    debug: false, \r\n                userAgent :\"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)\" },\r\n                function(e, browser) {\r\n                \r\n               console.log(\"wellcome to google\");\r\n               var html = browser.html();\r\n               var imgsRslt = html.match(\"imgurl=([^&]*)\");\r\n               if(imgsRslt.length <= 1)\r\n                 res.send(\"not found\");\r\n               \r\n               lastImg = imgsRslt[1];\r\n               \r\n               \r\n               res.json(imgsRslt[1]);  \r\n            });*/\r\n            var url = mtch[1];\r\n            \r\n            var start = url.indexOf('/search?');\r\n            \r\n            var url = url.substring(start);\r\n            console.log('url = '+url);\r\n            \r\n            http.get({\r\n                host: 'www.google.com',\r\n                path: url,\r\n                headers: {\r\n                'User-Agent': 'Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)'\r\n                }\r\n                }, function(res) {\r\n                if (res.statusCode === 200) {\r\n                var body = [];\r\n                res.setEncoding('utf8');\r\n                res.on('data', function(chunk) {\r\n                body.push(chunk);\r\n                });\r\n                res.on('end', function() {\r\n                 \r\n                    \r\n                  var html = body.join('');\r\n                  //console.log(body);\r\n                   var imgsRslt = html.match(\"imgurl=([^&]*)\");\r\n                     if(imgsRslt.length <= 1)\r\n                       _res.send(\"not found\");\r\n               \r\n                   lastImg = imgsRslt[1];\r\n                   //lastImg = imgsRslt[parseInt((Math.random() * 100) % 5)];\r\n                  \r\n                  _res.json(imgsRslt[1]);\r\n                });\r\n                } \r\n                else {\r\n                  console.log('Received non-ok response: ' + res.statusCode);\r\n                }\r\n            });\r\n            \r\n            \r\n            \r\n            \r\n            \r\n           \r\n          }\r\n        });\r\n         \r\n         \r\n         \r\n         \r\n   \r\n   \r\n});\r\nvar lastImg =\"\";\r\napp.get('/lastSearchedImage', function(req, res) {\r\n        \r\n         console.log('///////////////lastSearchedImage');     \r\n        //res.json(\"<h1>hello word</h1>\");\r\n        \r\n        res.set('Content-Type', 'text/plain');\r\n        lastImg = lastImg || \"\";\r\n        res.send(lastImg.replace(\"\\\"\",\"\"));\r\n});\r\n\r\nvar nvsio = {\r\n  id: \"be005eb1\",\r\n  secert :\"f948f61584ddb50342b50e7f846324db\"\r\n    \r\n};\r\n\r\nvar lastImgEmotion= \"\";\r\n\r\nvar lastImgEmotionOBJ = null;\r\n\r\napp.get(\"/getImgEmotionStr\", function(req, res) {\r\n\t\t\r\n\t\tif(!lastImgEmotionOBJ) {\r\n\t\t\tres.send(\"\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t \r\n\t\t\r\n\t\tvar result =\"\";\r\n\t\tvar emo = lastImgEmotionOBJ;\r\n         \r\n  \r\n      \r\n    for(var key in emo)\r\n    {\r\n        \r\n      if(parseFloat (emo[key]) > 0.01 )\r\n        result += ',' + key + ',' + parseInt(emo[key] * 100 *255 /100)\r\n    }\r\n\t\t\r\n    res.send(result.substring(1));\r\n});\r\n\r\napp.get(\"/getImgEmotionUrl\", function(req, res) {\r\n     \r\n     \r\n     console.log(\"### $$$$  getImgEmotionUrl  value = \"+ lastImgEmotion);\r\n    \r\n     res.set('Content-Type', 'text/plain');\r\n     lastImgEmotion = lastImgEmotion || \"neutral\";\r\n    res.send(lastImgEmotion);   \r\n    \r\n});\r\napp.post(\"/uploadImgEmotion\", function(req, res) {\r\n   \r\n    \r\n    console.log(\"/uploadImgEmotion\");\r\n    \r\n    \r\n    \r\n    var indx = req.files.img.path.lastIndexOf('/');\r\n    var tmpName =  req.files.img.path.substring(indx+1);\r\n\r\n    var imgUrl = \"http://\"+ req.host +\"/img/\"+tmpName;     \r\n    console.log('imgUrl = '+imgUrl);\r\n\r\n    imgUrl = encodeURIComponent(imgUrl);\r\n\r\n    var url = \"https://3dfi.nviso.net/api/v1/process/url?app_id=\"+nvsio.id+\"&app_key=\"+nvsio.secert+\"&url=\"+imgUrl\r\n\r\n    console.log(\"url = \"+url);\r\n    /*\r\n\r\n    */\r\n    \r\n    request.get(url, function    (err, rslt) {\r\n      \r\n       console.log(\"nvisio api resposene\");\r\n       if(err) {\r\n        res.json(err.message);\r\n        return  ;\r\n       }\r\n       \r\n       var obj = JSON.parse(rslt.body);\r\n       if(obj.status.code != \"success\") {\r\n         res.json(obj.status.code);\r\n         return; \r\n       }\r\n       var rsltStr= [];\r\n       for (var i = 0; i < obj.images.length; i++) {\r\n         \r\n         var emo = obj.images[0].faces[0].attribute.emotion;\r\n         lastImgEmotionOBJ = emo;\r\n         if(emo) {\r\n            \r\n            for(var key in emo)\r\n            {\r\n                console.log(\"key =\"+key + \" val = \"+parseFloat(emo[key]));\r\n                if(parseFloat (emo[key]) > 0.01 )\r\n                  rsltStr.push(key);      \r\n            }\r\n             \r\n         }\r\n       }\r\n        rsltStr.sort(function(a,b) {\r\n            \r\n            return parseFloat(emo[a]) < parseFloat(emo[b]);\r\n            \r\n        })\r\n        \r\n        res.json(rsltStr);\r\n        lastImgEmotion = rsltStr.join('\\n');   \r\n      \r\n    });\r\n   \r\n});\r\n\r\n\r\napp.get(\"/searchtwit\", function(req, res) {\r\n  \r\n  console.log(\"searchtwit\");\r\n  \r\n  var q = req.query[\"q\"];\r\n  if(!q) {\r\n    res.send(\"use q=happy\");\r\n    return;\r\n  }\r\n  var pathUrl = \"/search.json?q=\"+q+\"&rpp=20&include_entities=true&result_type=mixed&geocode=31.7833,35.2167,300mi\";\r\n  \r\n  \r\n  console.log(\"twiterUrl => \"+pathUrl);\r\n  \r\n  var http = require(\"http\");\r\n  var _res = res;\r\n  http.get({\r\n            host: 'search.twitter.com',\r\n            path: pathUrl,\r\n            headers: {'User-Agent': 'Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)'}\r\n            }, \r\n            function(res) {\r\n                if (res.statusCode === 200) {\r\n                  var body = [];\r\n                  res.setEncoding('utf8');\r\n                  res.on('data', function(chunk) {\r\n                  body.push(chunk);\r\n                });\r\n            res.on('end',\r\n              function() {\r\n                var html = body.join('');\r\n                //console.log(html);\r\n                \r\n                var obj = JSON.parse(html);\r\n                var twits = [];\r\n                obj = obj.results;\r\n                for (var i = 0; i < obj.length; i++) {\r\n                  twits.push(obj[i].text);\r\n                }\r\n                \r\n                console.log(twits.length);\r\n                _res.send(twits[parseInt((Math.random() * 100) % twits.length)]);\r\n                 \r\n            });\r\n            } \r\n            else {\r\n              console.log('Received non-ok response: ' + res.statusCode);\r\n            }\r\n            });\r\n  \r\n});\r\n\r\nprocess.on('uncaughtException', function (err) {\r\n  console.log('Caught exception: ' + err);\r\n});\r\n\r\n\r\n\r\n\r\napp.listen(process.env.PORT, process.env.IP);\r\n\r\nconsole .log(   \"Wellcome Fetch image server Port:%d, IP:%d\", process.env.PORT, process.env.IP);"]],"start1":0,"start2":0,"length1":0,"length2":9009}]],"length":9009}
{"contributors":[],"silentsave":false,"ts":1361796103238,"patch":[[{"diffs":[[0,"tch(\"imgurl=([^&"],[1,"%"],[0,"]*)\");\r\n        "]],"start1":3678,"start2":3678,"length1":32,"length2":33}]],"length":9010,"saved":false}
{"ts":1361796327380,"patch":[[{"diffs":[[0,"url=([^&"],[-1,"%"],[0,"]*)\");\r\n"]],"start1":3686,"start2":3686,"length1":17,"length2":16}]],"length":9009,"saved":false}
{"ts":1361796418351,"patch":[[{"diffs":[[0,"\n               "],[1,"    for(var j =0; j <5; J++) {\r\n                     console.log(imgsRslt[1])\r\n                   }"],[0,"\r\n              "]],"start1":3796,"start2":3796,"length1":32,"length2":131}]],"length":9108,"saved":false}
{"ts":1361796421772,"patch":[[{"diffs":[[0,"mgsRslt["],[-1,"1"],[1,"j"],[0,"])\r\n    "]],"start1":3878,"start2":3878,"length1":17,"length2":17}]],"length":9108,"saved":false}
{"ts":1361796427013,"patch":[[{"diffs":[[0,"<5; J++) {\r\n"],[1,"                     \r\n"],[0,"            "]],"start1":3832,"start2":3832,"length1":24,"length2":47}]],"length":9131,"saved":false}
{"ts":1361796500374,"patch":[[{"diffs":[[0,"(\"not found\");\r\n"],[1,"                   \r\n"],[0,"                "]],"start1":3781,"start2":3781,"length1":32,"length2":53},{"diffs":[[0,"; j <5; "],[-1,"J"],[1,"j"],[0,"++) {\r\n "]],"start1":3849,"start2":3849,"length1":17,"length2":17}]],"length":9152,"saved":false}
{"ts":1361796546439,"patch":[[{"diffs":[[0,"Rslt[j])"],[1,";"],[0,"\r\n      "]],"start1":3925,"start2":3925,"length1":16,"length2":17}]],"length":9153,"saved":false}
{"ts":1361796597777,"patch":[[{"diffs":[[0,"                "],[-1,"  "],[0,"var html = body."]],"start1":3552,"start2":3552,"length1":34,"length2":32},{"diffs":[[0,"                "],[-1,"  "],[0,"//console.log(bo"]],"start1":3595,"start2":3595,"length1":34,"length2":32},{"diffs":[[0,"                "],[-1,"  "],[-1," "],[0,"var imgsRslt = h"]],"start1":3633,"start2":3633,"length1":35,"length2":32},{"diffs":[[0,"url=([^&]*)\");\r\n"],[-1,"     "],[0,"                "]],"start1":3679,"start2":3679,"length1":37,"length2":32},{"diffs":[[0,"                "],[-1,"     "],[0,"_res.send(\"not f"]],"start1":3739,"start2":3739,"length1":37,"length2":32},{"diffs":[[0,");\r\n"],[-1,"                   \r\n   "],[0,"    "]],"start1":3776,"start2":3776,"length1":32,"length2":8},{"diffs":[[0," {\r\n"],[-1,"                     \r\n "],[0,"    "]],"start1":3820,"start2":3820,"length1":32,"length2":8},{"diffs":[[0,"            "],[-1,"   }\r\n   "],[1,"}\r\n"],[0,"            "]],"start1":3875,"start2":3875,"length1":33,"length2":27},{"diffs":[[0,"        "],[-1,"   "],[0,"//lastIm"]],"start1":3938,"start2":3938,"length1":19,"length2":16},{"diffs":[[0,"% 5)];\r\n"],[-1,"                  \r\n"],[0,"        "]],"start1":3998,"start2":3998,"length1":36,"length2":16}]],"length":9059,"saved":false}
{"ts":1361796814018,"patch":[[{"diffs":[[0,"slt.length <= 1)"],[1," {"],[0,"\r\n"],[-1,""],[0,"                "]],"start1":3719,"start2":3719,"length1":34,"length2":36},{"diffs":[[0,"    "],[-1,"for(var j =0; j <5; j++) {\r\n"],[1,"  return;\r\n     "],[0,"    "]],"start1":3794,"start2":3794,"length1":36,"length2":24},{"diffs":[[0,"\n               "],[1," }\r\n"],[0,"          consol"]],"start1":3808,"start2":3808,"length1":32,"length2":36},{"diffs":[[0,"    "],[-1,"console.log(imgsRslt[j]);"],[1,"      imgsRslt[1]\r\n                var lastImg.indexOf(\".j\")"],[0,"\r\n  "]],"start1":3834,"start2":3834,"length1":33,"length2":68},{"diffs":[[0,"                "],[-1,"}"],[0,"\r\n              "]],"start1":3900,"start2":3900,"length1":33,"length2":32}]],"length":9087,"saved":false}
{"ts":1361796820123,"patch":[[{"diffs":[[0,"        "],[1," var str ="],[0," imgsRsl"]],"start1":3835,"start2":3835,"length1":16,"length2":26},{"diffs":[[0,"sRslt[1]"],[1,";\r\n                "],[0,"\r\n      "]],"start1":3857,"start2":3857,"length1":16,"length2":35}]],"length":9116,"saved":false}
{"ts":1361796825551,"patch":[[{"diffs":[[0,"        var "],[1,"pos =  "],[0,"lastImg.inde"]],"start1":3894,"start2":3894,"length1":24,"length2":31},{"diffs":[[0,"Of(\".j\")"],[1,";\r\n                "],[0,"\r\n      "]],"start1":3926,"start2":3926,"length1":16,"length2":35}]],"length":9142,"saved":false}
{"ts":1361796827857,"patch":[[{"diffs":[[0,"lt[1];\r\n"],[-1,"                \r\n"],[0,"        "]],"start1":3860,"start2":3860,"length1":34,"length2":16}]],"length":9124,"saved":false}
{"ts":1361796830646,"patch":[[{"diffs":[[0," pos =  "],[-1,"lastImg"],[1,"pos"],[0,".indexOf"]],"start1":3887,"start2":3887,"length1":23,"length2":19}]],"length":9120,"saved":false}
{"ts":1361796833614,"patch":[[{"diffs":[[0," pos =  "],[-1,"pos"],[1,"str"],[0,".indexOf"]],"start1":3887,"start2":3887,"length1":19,"length2":19}]],"length":9120,"saved":false}
{"ts":1361797091841,"patch":[[{"diffs":[[0," =  str."],[-1,"i"],[1,"lastI"],[0,"ndexOf(\""]],"start1":3891,"start2":3891,"length1":17,"length2":21},{"diffs":[[0,"                "],[1,"pos.indexOf('%',)"],[0,"\r\n              "]],"start1":3919,"start2":3919,"length1":32,"length2":49}]],"length":9141,"saved":false}
{"ts":1361797096654,"patch":[[{"diffs":[[0,"xOf('%',"],[1,"pos"],[0,")\r\n     "]],"start1":3943,"start2":3943,"length1":16,"length2":19}]],"length":9144,"saved":false}
{"ts":1361797098255,"patch":[[{"diffs":[[0,"'%',pos)"],[1,";"],[0,"\r\n      "]],"start1":3947,"start2":3947,"length1":16,"length2":17}]],"length":9145,"saved":false}
{"ts":1361797102239,"patch":[[{"diffs":[[0,"        "],[-1,"pos"],[1,"str"],[0,".indexOf"]],"start1":3927,"start2":3927,"length1":19,"length2":19}]],"length":9145,"saved":false}
{"ts":1361797107736,"patch":[[{"diffs":[[0,"        "],[1," pos ="],[0," str.ind"]],"start1":3926,"start2":3926,"length1":16,"length2":22}]],"length":9151,"saved":false}
{"ts":1361797118922,"patch":[[{"diffs":[[0,"('%',pos);\r\n"],[1,"                if(pos != -1)\r\n"],[0,"            "]],"start1":3952,"start2":3952,"length1":24,"length2":55}]],"length":9182,"saved":false}
{"ts":1361797139972,"patch":[[{"diffs":[[0,"pos != -1)\r\n"],[1,"                  str = str.substring(0,pos);\r\n"],[0,"            "]],"start1":3983,"start2":3983,"length1":24,"length2":71}]],"length":9229,"saved":false}
{"ts":1361797145208,"patch":[[{"diffs":[[0,"  lastImg = "],[-1,"imgsRslt[1]"],[1,"str"],[0,";\r\n         "]],"start1":4074,"start2":4074,"length1":35,"length2":27}]],"length":9221,"saved":false}
{"ts":1361797157101,"patch":[[{"diffs":[[0,"es.json("],[-1,"imgsRslt[1]"],[1,"str"],[0,");\r\n    "]],"start1":4188,"start2":4188,"length1":27,"length2":19}]],"length":9213,"saved":false}
{"contributors":[],"silentsave":false,"ts":1364327253869,"patch":[[{"diffs":[[0,"ter copy"],[-1,"\""],[1," req.files.img.path +\"+req.files.img.pat"],[0,");\r\n    "]],"start1":1182,"start2":1182,"length1":17,"length2":56}]],"length":9252,"saved":false}
{"ts":1364327255621,"patch":[[{"diffs":[[0,".img.pat"],[1,"h"],[0,");\r\n    "]],"start1":1222,"start2":1222,"length1":16,"length2":17}]],"length":9253,"saved":false}
{"contributors":[],"silentsave":false,"ts":1364452030396,"patch":[[{"diffs":[[0,"ode === 200) {\r\n"],[1,"                fs.unlink(req.files.img.path, function(){});\r\n"],[0,"                "]],"start1":3311,"start2":3311,"length1":32,"length2":94},{"diffs":[[0,"s.statusCode);\r\n"],[1,"                  fs.unlink(req.files.img.path, function(){});\r\n"],[0,"                "]],"start1":4433,"start2":4433,"length1":32,"length2":96}]],"length":9379,"saved":false}
{"contributors":[],"silentsave":false,"ts":1365929902814,"patch":[[{"diffs":[[0,"  \r\n"],[-1,"            /* browser.visit(mtch[1], {    debug: false, \r\n                userAgent :\"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)\" },\r\n                function(e, browser) {\r\n                \r\n               console.log(\"wellcome to google\");\r\n               var html = browser.html();\r\n               var imgsRslt = html.match(\"imgurl=([^&]*)\");\r\n               if(imgsRslt.length <= 1)\r\n                 res.send(\"not found\");\r\n               \r\n               lastImg = imgsRslt[1];\r\n               \r\n               \r\n               res.json(imgsRslt[1]);  \r\n            });*/\r\n"],[0,"    "]],"start1":2179,"start2":2179,"length1":616,"length2":8}]],"length":8771,"saved":false}
{"contributors":[],"silentsave":false,"ts":1365932021022,"patch":[[{"diffs":[[0,"url=([^&"],[1,"#"],[0,"]*)\");\r\n"]],"start1":3173,"start2":3173,"length1":16,"length2":17}]],"length":8772,"saved":false}
{"ts":1365932181113,"patch":[[{"diffs":[[0,"otionUrl"],[1,".old"],[0,"\", funct"]],"start1":5022,"start2":5022,"length1":16,"length2":20},{"diffs":[[0,"\r\n    /*\r\n\r\n"],[1,"    */\r\n    \r\n    request.get(url, function    (err, rslt) {\r\n      \r\n       console.log(\"nvisio api resposene\");\r\n       if(err) {\r\n        res.json(err.message);\r\n        return  ;\r\n       }\r\n       \r\n       var obj = JSON.parse(rslt.body);\r\n       if(obj.status.code != \"success\") {\r\n         res.json(obj.status.code);\r\n         return; \r\n       }\r\n       var rsltStr= [];\r\n       for (var i = 0; i < obj.images.length; i++) {\r\n         \r\n         var emo = obj.images[0].faces[0].attribute.emotion;\r\n         lastImgEmotionOBJ = emo;\r\n         if(emo) {\r\n            \r\n            for(var key in emo)\r\n            {\r\n                console.log(\"key =\"+key + \" val = \"+parseFloat(emo[key]));\r\n                if(parseFloat (emo[key]) > 0.01 )\r\n                  rsltStr.push(key);      \r\n            }\r\n             \r\n         }\r\n       }\r\n        rsltStr.sort(function(a,b) {\r\n            \r\n            return parseFloat(emo[a]) < parseFloat(emo[b]);\r\n            \r\n        })\r\n        \r\n        res.json(rsltStr);\r\n        lastImgEmotion = rsltStr.join('\\n');   \r\n      \r\n    });\r\n   \r\n});\r\napp.post(\"/uploadImgEmotion\", function(req, res) {\r\n   \r\n    \r\n    console.log(\"/uploadImgEmotion\");\r\n    \r\n    \r\n    \r\n    var indx = req.files.img.path.lastIndexOf('/');\r\n    var tmpName =  req.files.img.path.substring(indx+1);\r\n\r\n    var imgUrl = \"http://\"+ req.host +\"/img/\"+tmpName;     \r\n    console.log('imgUrl = '+imgUrl);\r\n\r\n    imgUrl = encodeURIComponent(imgUrl);\r\n\r\n    var url = \"https://3dfi.nviso.net/api/v1/process/url?app_id=\"+nvsio.id+\"&app_key=\"+nvsio.secert+\"&url=\"+imgUrl\r\n\r\n    console.log(\"url = \"+url);\r\n    /*\r\n\r\n"],[0,"    */\r\n    "]],"start1":5822,"start2":5822,"length1":24,"length2":1660}]],"length":10412,"saved":false}
{"ts":1365932261089,"patch":[[{"diffs":[[0,"io api resposene"],[-1,"\""],[1," \"+ rslt.body "],[0,");\r\n       if(er"]],"start1":5928,"start2":5928,"length1":33,"length2":46}]],"length":10425,"saved":false}
{"ts":1365932318715,"patch":[[{"diffs":[[0,"r rsltStr= [];\r\n"],[1,"       obj.images[0].faces[0].attribute.emotion\r\n"],[0,"       for (var "]],"start1":6209,"start2":6209,"length1":32,"length2":81}]],"length":10474,"saved":false}
{"ts":1365932330693,"patch":[[{"diffs":[[0," [];\r\n      "],[1," lastImgEmotion ="],[0," obj.images["]],"start1":6219,"start2":6219,"length1":24,"length2":41},{"diffs":[[0,"motion\r\n"],[1,"       \r\n"],[0,"       f"]],"start1":6283,"start2":6283,"length1":16,"length2":25}]],"length":10500,"saved":false}
{"ts":1365932332951,"patch":[[{"diffs":[[0,"\n       "],[-1,"var rsltStr= [];"],[0,"\r\n      "]],"start1":6199,"start2":6199,"length1":32,"length2":16}]],"length":10484,"saved":false}
{"ts":1365932352368,"patch":[[{"diffs":[[0,".emotion"],[1,";\r\n       onsole.log(\"lastImgEmotion \"+ lastImgEmotion );"],[0,"\r\n      "]],"start1":6265,"start2":6265,"length1":16,"length2":73}]],"length":10541,"saved":false}
{"ts":1365932363243,"patch":[[{"diffs":[[0,"\n       "],[1,"c"],[0,"onsole.l"]],"start1":6275,"start2":6275,"length1":16,"length2":17}]],"length":10542,"saved":false}
{"ts":1365932374469,"patch":[[{"diffs":[[0,"tion );\r\n       "],[1,"res.json(rsltStr);"],[0,"\r\n       for (va"]],"start1":6324,"start2":6324,"length1":32,"length2":50}]],"length":10560,"saved":false}
{"ts":1365932376972,"patch":[[{"diffs":[[0,"       res.json("],[-1,"rsltStr"],[1,"lastImgEmotion"],[0,");\r\n       for ("]],"start1":6333,"start2":6333,"length1":39,"length2":46}]],"length":10567,"saved":false}
{"ts":1365932380810,"patch":[[{"diffs":[[0,"n;\r\n"],[-1,"       console.log(\"lastImgEmotion \"+ lastImgEmotion );\r\n"],[0,"    "]],"start1":6272,"start2":6272,"length1":65,"length2":8}]],"length":10510,"saved":false}
{"ts":1365932384449,"patch":[[{"diffs":[[0,"gEmotion);\r\n"],[1,"       return;\r\n       \r\n"],[0,"       for ("]],"start1":6298,"start2":6298,"length1":24,"length2":49}]],"length":10535,"saved":false}
{"ts":1365932395869,"patch":[[{"diffs":[[0,"\n      \r\n       "],[1,"//"],[0,"console.log(\"nvi"]],"start1":5895,"start2":5895,"length1":32,"length2":34}]],"length":10537,"saved":false}
{"ts":1365932495906,"patch":[[{"diffs":[[0,"ttribute.emotion"],[1,".replace((/\\,/g, \"\\n\")"],[0,";\r\n       res.js"]],"start1":6259,"start2":6259,"length1":32,"length2":54}]],"length":10559,"saved":false}
{"ts":1365932507277,"patch":[[{"diffs":[[0,"place((/"],[-1,"\\"],[0,",/g, \"\\n"]],"start1":6278,"start2":6278,"length1":17,"length2":16}]],"length":10558,"saved":false}
{"ts":1365932518183,"patch":[[{"diffs":[[0,"place((/"],[1,"\\"],[0,",/g, \"\\n"]],"start1":6278,"start2":6278,"length1":16,"length2":17}]],"length":10559,"saved":false}
{"ts":1365932520705,"patch":[[{"diffs":[[0,"/\\,/g, \""],[-1,"\\"],[0,"n\");\r\n  "]],"start1":6285,"start2":6285,"length1":17,"length2":16}]],"length":10558,"saved":false}
{"ts":1365932644435,"patch":[[{"diffs":[[0,"ace("],[-1,"(/\\,"],[1,"/,|{|}|\"|:"],[0,"/g, \""],[1,"\\"],[0,"n\");"]],"start1":6280,"start2":6280,"length1":17,"length2":24}]],"length":10565,"saved":false}
{"ts":1365932670356,"patch":[[{"diffs":[[0,"emotion."],[1,"toString()."],[0,"replace("]],"start1":6268,"start2":6268,"length1":16,"length2":27}]],"length":10576,"saved":false}
{"ts":1365932695403,"patch":[[{"diffs":[[0,"    "],[-1,"\r\n       lastImgEmotion"],[1,"var str"],[0," ="],[1," "],[0," obj"]],"start1":6205,"start2":6205,"length1":33,"length2":18},{"diffs":[[0,"tion"],[-1,".toString()"],[1,";\r\n       lastImgEmotion = "],[0,".rep"]],"start1":6256,"start2":6256,"length1":19,"length2":35}]],"length":10577,"saved":false}
{"ts":1365932707683,"patch":[[{"diffs":[[0," str =  "],[1," JSON.stringify("],[0,"obj.imag"]],"start1":6212,"start2":6212,"length1":16,"length2":32},{"diffs":[[0,"ttribute.emotion"],[1,")"],[0,";\r\n       lastIm"]],"start1":6260,"start2":6260,"length1":32,"length2":33}]],"length":10594,"saved":false}
{"ts":1365932712099,"patch":[[{"diffs":[[0,"otion = "],[1,"str"],[0,".replace"]],"start1":6296,"start2":6296,"length1":16,"length2":19}]],"length":10597,"saved":false}
{"ts":1365932770060,"patch":[[{"diffs":[[0,"\"|:/g, \""],[-1,"\\"],[1,"/"],[0,"n\");\r\n  "]],"start1":6323,"start2":6323,"length1":17,"length2":17}]],"length":10597,"saved":false}
{"ts":1365932796720,"patch":[[{"diffs":[[0,"g, \""],[-1,"/n"],[0,"\");\r"]],"start1":6327,"start2":6327,"length1":10,"length2":8}]],"length":10595,"saved":false}
{"ts":1365932851934,"patch":[[{"diffs":[[0,"ce(/"],[-1,",|"],[0,"{|}|\""],[-1,"|:"],[0,"/g, "]],"start1":6313,"start2":6313,"length1":17,"length2":13}]],"length":10591,"saved":false}
{"ts":1365932938647,"patch":[[{"diffs":[[0,"nUrl"],[-1,".old"],[0,"\", f"]],"start1":5026,"start2":5026,"length1":12,"length2":8},{"diffs":[[0,"uploadImgEmotion"],[1,".old"],[0,"\", function(req,"]],"start1":7118,"start2":7118,"length1":32,"length2":36}]],"length":10591,"saved":false}
{"ts":1365932956503,"patch":[[{"diffs":[[0,");\r\n"],[-1,"       return;\r\n       \r\n       for (var i = 0; i < obj.images.length; i++) {\r\n         \r\n         var emo = obj.images[0].faces[0].attribute.emotion;\r\n         lastImgEmotionOBJ = emo;\r\n         if(emo) {\r\n            \r\n            for(var key in emo)\r\n            {\r\n                console.log(\"key =\"+key + \" val = \"+parseFloat(emo[key]));\r\n                if(parseFloat (emo[key]) > 0.01 )\r\n                  rsltStr.push(key);      \r\n            }\r\n             \r\n         }\r\n       }\r\n        rsltStr.sort(function(a,b) {\r\n            \r\n            return parseFloat(emo[a]) < parseFloat(emo[b]);\r\n            \r\n        })\r\n        \r\n        res.json(rsltStr);\r\n        lastImgEmotion = rsltStr.join('\\n');   \r\n      \r\n"],[0,"    "]],"start1":6358,"start2":6358,"length1":734,"length2":8}]],"length":9865,"saved":false}
{"ts":1365938330396,"patch":[[{"diffs":[[0,"));\r\n});\r\n\r\n"],[1,"app.get(\"/getImgEmotioDots\", function(req, res) {\r\n     \r\n     \r\n     console.log(\"### $$$$  getImgEmotionUrl  value = \"+ lastImgEmotion);\r\n    \r\n     res.set('Content-Type', 'text/plain');\r\n     lastImgEmotion = lastImgEmotion || \"neutral\";\r\n    res.send(lastImgEmotion);   \r\n    \r\n});\r\n\r\n"],[0,"app.get(\"/ge"]],"start1":4992,"start2":4992,"length1":24,"length2":314}]],"length":10155,"saved":false}
{"ts":1365938333581,"patch":[[{"diffs":[[0,"$$  getImgEmotio"],[-1,"nUrl"],[1,"Dots"],[0,"  value = \"+ las"]],"start1":5093,"start2":5093,"length1":36,"length2":36}]],"length":10155,"saved":false}
{"ts":1365938342729,"patch":[[{"diffs":[[0,"+ lastImgEmotion"],[1,"Dots"],[0,");\r\n    \r\n     r"]],"start1":5124,"start2":5124,"length1":32,"length2":36}]],"length":10159,"saved":false}
{"ts":1365938347081,"patch":[[{"diffs":[[0,"(1));\r\n});\r\n"],[1,"var = lastImgEmotionDots;"],[0,"\r\napp.get(\"/"]],"start1":4990,"start2":4990,"length1":24,"length2":49}]],"length":10184,"saved":false}
{"ts":1365938385877,"patch":[[{"diffs":[[0,"    "],[-1,"res.json(lastImgEmotion);"],[1,"\r\n       \r\n       \r\n       res.json(lastImgEmotion);\r\n       \r\n       var dots =  x.images[0].faces[0]\r\n       "],[0,"\r\n  "]],"start1":6650,"start2":6650,"length1":33,"length2":119}]],"length":10270,"saved":false}
{"ts":1365938391185,"patch":[[{"diffs":[[0,"dots =  "],[-1,"x"],[1,"obj"],[0,".images["]],"start1":6728,"start2":6728,"length1":17,"length2":19}]],"length":10272,"saved":false}
{"ts":1365938392760,"patch":[[{"diffs":[[0,"faces[0]"],[1,";\r\n       "],[0,"\r\n      "]],"start1":6750,"start2":6750,"length1":16,"length2":26}]],"length":10282,"saved":false}
{"ts":1365938406777,"patch":[[{"diffs":[[0,"    "],[-1,"var dot"],[1,"\r\n       var face"],[0,"s = "]],"start1":6720,"start2":6720,"length1":15,"length2":25}]],"length":10292,"saved":false}
{"ts":1365938411209,"patch":[[{"diffs":[[0,"0].faces"],[-1,"[0]"],[0,";\r\n     "]],"start1":6757,"start2":6757,"length1":19,"length2":16}]],"length":10289,"saved":false}
{"ts":1365938422299,"patch":[[{"diffs":[[0,"aces;\r\n       \r\n"],[1,"       for(var i = 0; i< arr.length; i++) {\r\n       \r\n"],[0,"       \r\n    });"]],"start1":6761,"start2":6761,"length1":32,"length2":86}]],"length":10343,"saved":false}
{"ts":1365938424961,"patch":[[{"diffs":[[0," i< "],[-1,"arr"],[1,"faces"],[0,".len"]],"start1":6798,"start2":6798,"length1":11,"length2":13}]],"length":10345,"saved":false}
{"ts":1365938427594,"patch":[[{"diffs":[[0,"     \r\n       \r\n"],[1,"       \r\n       }\r\n       \r\n"],[0,"    });\r\n   \r\n})"]],"start1":6826,"start2":6826,"length1":32,"length2":60}]],"length":10373,"saved":false}
{"ts":1365938437017,"patch":[[{"diffs":[[0," i++) {\r\n       "],[1," for(var key in faces[i])"],[0,"\r\n       \r\n     "]],"start1":6815,"start2":6815,"length1":32,"length2":57}]],"length":10398,"saved":false}
{"ts":1365938440381,"patch":[[{"diffs":[[0,".faces;\r\n       "],[1,"var res = [];"],[0,"\r\n       for(var"]],"start1":6759,"start2":6759,"length1":32,"length2":45}]],"length":10411,"saved":false}
{"ts":1365938464568,"patch":[[{"diffs":[[0,"length; i++) {\r\n"],[1,"        \r\n"],[0,"        for(var "]],"start1":6821,"start2":6821,"length1":32,"length2":42},{"diffs":[[0,"aces[i])"],[1," {"],[0,"\r\n      "]],"start1":6871,"start2":6871,"length1":16,"length2":18},{"diffs":[[0,"s[i]) {\r\n       "],[1," "],[0,"\r\n       \r\n     "]],"start1":6874,"start2":6874,"length1":32,"length2":33},{"diffs":[[0,"       \r\n       "],[1,"   res.[push]\r\n        \r\n        }"],[0,"\r\n       }\r\n    "]],"start1":6884,"start2":6884,"length1":32,"length2":66}]],"length":10458,"saved":false}
{"ts":1365938866876,"patch":[[{"diffs":[[0,"    "],[-1,"res.[push]"],[1,"for(var i = 0; i< arr.length; i++) { for(var key in arr[i]) {  console.log(JSON.stringify(arr[i][key])) } }"],[0,"\r\n  "]],"start1":6899,"start2":6899,"length1":18,"length2":115}]],"length":10555,"saved":false}
{"ts":1365938878671,"patch":[[{"diffs":[[0,"        for(var "],[-1,"i"],[1,"j"],[0," = 0; i< arr.len"]],"start1":6895,"start2":6895,"length1":33,"length2":33},{"diffs":[[0,"arr.length; "],[-1,"i"],[1,"j"],[0,"++) { for(va"]],"start1":6921,"start2":6921,"length1":25,"length2":25}]],"length":10555,"saved":false}
{"ts":1365938884021,"patch":[[{"diffs":[[0," in arr["],[-1,"i"],[1,"j"],[0,"]) {  co"]],"start1":6951,"start2":6951,"length1":17,"length2":17}]],"length":10555,"saved":false}
{"ts":1365938888452,"patch":[[{"diffs":[[0,"ify(arr["],[-1,"i"],[1,"j"],[0,"][key]))"]],"start1":6989,"start2":6989,"length1":17,"length2":17}]],"length":10555,"saved":false}
{"ts":1365938909884,"patch":[[{"diffs":[[0," j++) { "],[1,"\r\n              "],[0,"for(var "]],"start1":6932,"start2":6932,"length1":16,"length2":32},{"diffs":[[0,"][key]))"],[1,"; \r\n          } \r\n      "],[0," "],[-1,"}"],[0," }\r\n    "]],"start1":7014,"start2":7014,"length1":18,"length2":41}]],"length":10594,"saved":false}
{"ts":1365938921507,"patch":[[{"diffs":[[0,"r[j]) { "],[-1," console.log"],[1,"res.push"],[0,"(JSON.st"]],"start1":6973,"start2":6973,"length1":28,"length2":24}]],"length":10590,"saved":false}
{"ts":1365938942103,"patch":[[{"diffs":[[0,"rr[j]) {"],[1,"\r\n               "],[0," res.pus"]],"start1":6972,"start2":6972,"length1":16,"length2":33},{"diffs":[[0,"][key])); \r\n"],[1,"    "],[0,"          } "]],"start1":7027,"start2":7027,"length1":24,"length2":28}]],"length":10611,"saved":false}
{"ts":1365938953249,"patch":[[{"diffs":[[0,"{ \r\n            "],[-1,"  "],[0,"for(var key in a"]],"start1":6938,"start2":6938,"length1":34,"length2":32},{"diffs":[[0,"; \r\n            "],[-1,"  "],[0,"} \r\n"],[1,"  "],[0,"        }\r\n     "]],"start1":7033,"start2":7033,"length1":38,"length2":38}]],"length":10609,"saved":false}
{"ts":1365938956831,"patch":[[{"diffs":[[0,"            "],[-1,"  "],[0,"res.push(JSO"]],"start1":6982,"start2":6982,"length1":26,"length2":24}]],"length":10607,"saved":false}
{"ts":1365938983715,"patch":[[{"diffs":[[0,"    }\r\n       \r\n"],[1,"       console.dir(res);\r\n"],[0,"    });\r\n   \r\n})"]],"start1":7088,"start2":7088,"length1":32,"length2":58}]],"length":10633,"saved":false}
{"ts":1365938991987,"patch":[[{"diffs":[[0,"    var "],[-1,"res"],[1,"dotsArr"],[0," = [];\r\n"]],"start1":6771,"start2":6771,"length1":19,"length2":23},{"diffs":[[0,"        "],[-1,"res"],[1,"dotsArr"],[0,".push(JS"]],"start1":6990,"start2":6990,"length1":19,"length2":23}]],"length":10641,"saved":false}
{"ts":1365938994400,"patch":[[{"diffs":[[0,"ole.dir("],[-1,"res"],[1,"dotsArr"],[0,");\r\n    "]],"start1":7123,"start2":7123,"length1":19,"length2":23}]],"length":10645,"saved":false}
{"ts":1365939016491,"patch":[[{"diffs":[[0,"      }\r\n       "],[1,"lastImgEmotionDots "],[0,"\r\n       console"]],"start1":7094,"start2":7094,"length1":32,"length2":51},{"diffs":[[0,"ole.dir("],[-1,"dotsArr"],[1,"lastImgEmotionDots"],[0,");\r\n    "]],"start1":7142,"start2":7142,"length1":23,"length2":34}]],"length":10675,"saved":false}
{"ts":1365939024299,"patch":[[{"diffs":[[0,"    "],[-1,"dotsArr.push("],[1,"lastImgEmotionDots += "],[0,"JSON"]],"start1":6994,"start2":6994,"length1":21,"length2":30}]],"length":10684,"saved":false}
{"ts":1365939029127,"patch":[[{"diffs":[[0,"\n       "],[-1,"lastImgEmotionDots"],[0," \r\n     "]],"start1":7111,"start2":7111,"length1":34,"length2":16}]],"length":10666,"saved":false}
{"ts":1365939033186,"patch":[[{"diffs":[[0,"    "],[-1,"var dotsArr = [];"],[0,"\r\n  "]],"start1":6771,"start2":6771,"length1":25,"length2":8}]],"length":10649,"saved":false}
{"ts":1365939040517,"patch":[[{"diffs":[[0,"console."],[-1,"dir"],[1,"log"],[0,"(lastImg"]],"start1":7112,"start2":7112,"length1":19,"length2":19}]],"length":10649,"saved":false}
{"ts":1365939058947,"patch":[[{"diffs":[[0,"});\r\nvar"],[-1," ="],[0," lastImg"]],"start1":4997,"start2":4997,"length1":18,"length2":16},{"diffs":[[0,"tionDots"],[1," =  \"\""],[0,";\r\napp.g"]],"start1":5016,"start2":5016,"length1":16,"length2":22}]],"length":10653,"saved":false}
{"ts":1365939076564,"patch":[[{"diffs":[[0,"j][key])"],[-1,")"],[0,"; \r\n    "]],"start1":7026,"start2":7026,"length1":17,"length2":16}]],"length":10652,"saved":false}
{"ts":1365939105935,"patch":[[{"diffs":[[0," key in "],[-1,"arr"],[1,"faces"],[0,"[j]) {\r\n"]],"start1":6952,"start2":6952,"length1":19,"length2":21},{"diffs":[[0,"ringify("],[-1,"arr"],[1,"faces"],[0,"[j][key]"]],"start1":7016,"start2":7016,"length1":19,"length2":21}]],"length":10656,"saved":false}
{"ts":1365939134482,"patch":[[{"diffs":[[0," i< "],[-1,"arr"],[1,"faces"],[0,".len"]],"start1":6908,"start2":6908,"length1":11,"length2":13}]],"length":10658,"saved":false}
{"ts":1365939169849,"patch":[[{"diffs":[[0,"    "],[-1,"  for(var i = 0; i< faces.length; i++) {\r\n        \r\n        for(var key in faces[i]) {\r\n        \r\n  "],[1,"\r\n        \r\n"],[0,"    "]],"start1":6782,"start2":6782,"length1":108,"length2":20},{"diffs":[[0,"h; j++) { \r\n"],[-1,"  "],[0,"          fo"]],"start1":6835,"start2":6835,"length1":26,"length2":24},{"diffs":[[0,"            "],[-1,"  "],[0,"lastImgEmoti"]],"start1":6885,"start2":6885,"length1":26,"length2":24},{"diffs":[[0,"\r\n          "],[-1,"  "],[0,"} \r\n"],[-1,"  "],[0,"        }\r\n "]],"start1":6950,"start2":6950,"length1":32,"length2":28},{"diffs":[[0,"     \r\n     "],[-1," "],[-1,"  }\r\n       }"],[0,"\r\n        \r\n"]],"start1":6980,"start2":6980,"length1":38,"length2":24}]],"length":10548,"saved":false}
{"ts":1365939172609,"patch":[[{"diffs":[[0,"s;\r\n"],[-1,"       \r\n     \r\n        \r\n"],[0,"    "]],"start1":6768,"start2":6768,"length1":34,"length2":8}]],"length":10522,"saved":false}
{"ts":1365939196769,"patch":[[{"diffs":[[0," j = 0; "],[-1,"i"],[1,"j"],[0,"< faces."]],"start1":6787,"start2":6787,"length1":17,"length2":17}]],"length":10522,"saved":false}
{"ts":1365939248667,"patch":[[{"diffs":[[0,"h; j++) { \r\n"],[1,"          \r\n          delete faces[j].emotion;\r\n"],[0,"          fo"]],"start1":6809,"start2":6809,"length1":24,"length2":72}]],"length":10570,"saved":false}
{"ts":1365939497723,"patch":[[{"diffs":[[0,"    "],[-1," delete faces[j].emotion;"],[0,"\r\n  "]],"start1":6838,"start2":6838,"length1":33,"length2":8},{"diffs":[[0,"aces[j]) {\r\n"],[1,"            if(key == \"emotion;\")\r\n"],[0,"            "]],"start1":6870,"start2":6870,"length1":24,"length2":59}]],"length":10580,"saved":false}
{"ts":1365939536135,"patch":[[{"diffs":[[0,"key == \""],[-1,"emotion"],[1,"attribute"],[0,";\")\r\n   "]],"start1":6897,"start2":6897,"length1":23,"length2":25}]],"length":10582,"saved":false}
{"ts":1365939541409,"patch":[[{"diffs":[[0," if(key "],[-1,"="],[1,"!"],[0,"= \"attri"]],"start1":6893,"start2":6893,"length1":17,"length2":17}]],"length":10582,"saved":false}
{"ts":1365939543215,"patch":[[{"diffs":[[0,"ttribute"],[-1,";"],[0,"\")\r\n    "]],"start1":6906,"start2":6906,"length1":17,"length2":16}]],"length":10581,"saved":false}
{"ts":1365939545448,"patch":[[{"diffs":[[0,"\")\r\n            "],[1,"  "],[0,"lastImgEmotionDo"]],"start1":6914,"start2":6914,"length1":32,"length2":34}]],"length":10583,"saved":false}
{"ts":1365939607100,"patch":[[{"diffs":[[0,"stImgEmotionDots"],[1,".replace(/{|}|\"/g, \"\""],[0,");\r\n    });\r\n   "]],"start1":7060,"start2":7060,"length1":32,"length2":53}]],"length":10604,"saved":false}
{"ts":1365939746114,"patch":[[{"diffs":[[0,"{|}|\"/g, \"\")"],[1,".replace(/(x|y)(\\d)/g, \"$1\")"],[0,";\r\n    });\r\n"]],"start1":7086,"start2":7086,"length1":24,"length2":52}]],"length":10632,"saved":false}
{"ts":1365939820962,"patch":[[{"diffs":[[0,"       \r\n       "],[1,"//"],[0,"console.log(last"]],"start1":7030,"start2":7030,"length1":32,"length2":34},{"diffs":[[0,"ace("],[1,"\""],[0,"/(x|y)("],[1,"/"],[0,"\\d)"],[-1,"/g"],[1,"\""],[0,", \"$"]],"start1":7105,"start2":7105,"length1":20,"length2":21}]],"length":10635,"saved":false}
{"ts":1365939830669,"patch":[[{"diffs":[[0,"       \r\n       "],[-1,"//"],[0,"console.log(last"]],"start1":7030,"start2":7030,"length1":34,"length2":32}]],"length":10633,"saved":false}
{"ts":1365939842681,"patch":[[{"diffs":[[0,"replace("],[-1,"\""],[0,"/(x|y)(/"]],"start1":7099,"start2":7099,"length1":17,"length2":16},{"diffs":[[0,"|y)(/\\d)"],[1,"/"],[0,"\", \"$1\")"]],"start1":7110,"start2":7110,"length1":16,"length2":17}]],"length":10633,"saved":false}
{"ts":1365939863442,"patch":[[{"diffs":[[0,"(/(x|y)("],[-1,"/"],[0,"\\d)/\", \""]],"start1":7106,"start2":7106,"length1":17,"length2":16}]],"length":10632,"saved":false}
{"ts":1365939867703,"patch":[[{"diffs":[[0,"|y)(\\d)/"],[-1,"\""],[0,", \"$1\");"]],"start1":7110,"start2":7110,"length1":17,"length2":16}]],"length":10631,"saved":false}
{"ts":1365939901989,"patch":[[{"diffs":[[0,"/, \""],[-1,"$1"],[0,"\");\r"]],"start1":7117,"start2":7117,"length1":10,"length2":8}]],"length":10629,"saved":false}
{"ts":1365939925276,"patch":[[{"diffs":[[0," \"\")"],[-1,".replace(/(x|y)(\\d)/, \"\");"],[0,"\r\n  "]],"start1":7094,"start2":7094,"length1":34,"length2":8}]],"length":10603,"saved":false}
{"ts":1365939926642,"patch":[[{"diffs":[[0,"\"/g, \"\")"],[1,";"],[0,"\r\n    })"]],"start1":7090,"start2":7090,"length1":16,"length2":17}]],"length":10604,"saved":false}
{"ts":1365939944842,"patch":[[{"diffs":[[0,"ts.replace(/{|}|"],[1,"\\"],[0,"\"/g, \"\");\r\n    }"]],"start1":7074,"start2":7074,"length1":32,"length2":33}]],"length":10605,"saved":false}
{"ts":1365939953276,"patch":[[{"diffs":[[0,"ce(/{|}|"],[1,"/"],[0,"\\\"/g, \"\""]],"start1":7082,"start2":7082,"length1":16,"length2":17}]],"length":10606,"saved":false}
{"ts":1365939969646,"patch":[[{"diffs":[[0,"    "],[-1,"console.log(lastImgEmotionDots.replace(/{|}|/\\\"/g, \"\");"],[0,"\r\n  "]],"start1":7042,"start2":7042,"length1":63,"length2":8}]],"length":10551,"saved":false}
{"ts":1365939979321,"patch":[[{"diffs":[[0,"   \r\n       "],[1,"console.log(lastImgEmotionDots.replace(/{|}|/\\/g, \"\");"],[0,"\r\n    });\r\n "]],"start1":7034,"start2":7034,"length1":24,"length2":78}]],"length":10605,"saved":false}
{"ts":1365939982003,"patch":[[{"diffs":[[0,"/{|}"],[-1,"|/\\"],[0,"/g, "]],"start1":7085,"start2":7085,"length1":11,"length2":8}]],"length":10602,"saved":false}
{"ts":1365939996985,"patch":[[{"diffs":[[0,"ce(/{|}/"],[-1,"g"],[0,", \"\");\r\n"]],"start1":7082,"start2":7082,"length1":17,"length2":16}]],"length":10601,"saved":false}
{"ts":1365940016747,"patch":[[{"diffs":[[0,"ace(/{|}"],[-1,"/"],[1,"|\"/g"],[0,", \"\");\r\n"]],"start1":7081,"start2":7081,"length1":17,"length2":20}]],"length":10604,"saved":false}
{"ts":1365940024633,"patch":[[{"diffs":[[0,"{|}|\"/g, \"\")"],[1,")"],[0,";\r\n    });\r\n"]],"start1":7086,"start2":7086,"length1":24,"length2":25}]],"length":10605,"saved":false}
{"ts":1365940050042,"patch":[[{"diffs":[[0,"\"/g, \"\")"],[1,".replace(/(x|y)(\\d)/g)"],[0,");\r\n    "]],"start1":7090,"start2":7090,"length1":16,"length2":38}]],"length":10627,"saved":false}
{"ts":1365940071826,"patch":[[{"diffs":[[0,")(\\d)/g)"],[1,", \"$1\""],[0,");\r\n    "]],"start1":7112,"start2":7112,"length1":16,"length2":22}]],"length":10633,"saved":false}
{"ts":1365940221315,"patch":[[{"diffs":[[0,"/g), \"$1"],[1,";"],[0,"\");\r\n   "]],"start1":7117,"start2":7117,"length1":16,"length2":17}]],"length":10634,"saved":false}
{"ts":1365940324391,"patch":[[{"diffs":[[0," \"\")"],[-1,".replace(/(x|y)(\\d)/g), \"$1;\")"],[0,";\r\n "]],"start1":7094,"start2":7094,"length1":38,"length2":8}]],"length":10604,"saved":false}
{"ts":1365940334498,"patch":[[{"diffs":[[0,"{|}|\"/g, \"\")"],[1,")"],[0,";\r\n    });\r\n"]],"start1":7086,"start2":7086,"length1":24,"length2":25}]],"length":10605,"saved":false}
{"ts":1365940437688,"patch":[[{"diffs":[[0,"\"/g, \"\")"],[1,".replace(/(x|y)(\\d)/g), \"$1;\")"],[0,");\r\n    "]],"start1":7090,"start2":7090,"length1":16,"length2":46}]],"length":10635,"saved":false}
{"ts":1365940486434,"patch":[[{"diffs":[[0,"/g), \"$1"],[-1,";"],[0,"\"));\r\n  "]],"start1":7117,"start2":7117,"length1":17,"length2":16}]],"length":10634,"saved":false}
{"ts":1365940505852,"patch":[[{"diffs":[[0,"|y)("],[-1,"\\d"],[1,"[0-9]"],[0,")/g)"]],"start1":7110,"start2":7110,"length1":10,"length2":13}]],"length":10637,"saved":false}
{"ts":1365940527017,"patch":[[{"diffs":[[0,"), \"$1\")"],[-1,")"],[0,";\r\n    }"]],"start1":7122,"start2":7122,"length1":17,"length2":16}]],"length":10636,"saved":false}
{"ts":1365940558283,"patch":[[{"diffs":[[0,"g), "],[-1,"\""],[0,"$1"],[-1,"\""],[0,");\r\n"]],"start1":7121,"start2":7121,"length1":12,"length2":10}]],"length":10634,"saved":false}
{"ts":1365940586300,"patch":[[{"diffs":[[0," \"\")"],[-1,".replace(/(x|y)([0-9])/g), $1)"],[0,";\r\n "]],"start1":7094,"start2":7094,"length1":38,"length2":8}]],"length":10604,"saved":false}
{"ts":1365940593004,"patch":[[{"diffs":[[0,"{|}|\"/g, \"\")"],[1,")"],[0,";\r\n    });\r\n"]],"start1":7086,"start2":7086,"length1":24,"length2":25}]],"length":10605,"saved":false}
{"ts":1365940644625,"patch":[[{"diffs":[[0,"     \r\n     "],[1,"lastImgEmotionDots = lastImgEmotionDots.replace(/{|}|\"/g, \"\")"],[0,"\r\n        \r\n"]],"start1":7015,"start2":7015,"length1":24,"length2":85}]],"length":10666,"saved":false}
{"ts":1365940646552,"patch":[[{"diffs":[[0,"\"/g, \"\")"],[1,";"],[0,"\r\n      "]],"start1":7080,"start2":7080,"length1":16,"length2":17}]],"length":10667,"saved":false}
{"ts":1365940654966,"patch":[[{"diffs":[[0,"= lastImgEmotion"],[1,"Dots"],[0," || \"neutral\";\r\n"]],"start1":5248,"start2":5248,"length1":32,"length2":36}]],"length":10671,"saved":false}
{"ts":1365940658820,"patch":[[{"diffs":[[0,"ionDots || \""],[-1,"neutral"],[1,"empty"],[0,"\";\r\n    res."]],"start1":5261,"start2":5261,"length1":31,"length2":29}]],"length":10669,"saved":false}
{"ts":1365940661365,"patch":[[{"diffs":[[0,"d(lastImgEmotion"],[1,"Dots"],[0,");   \r\n    \r\n});"]],"start1":5293,"start2":5293,"length1":32,"length2":36}]],"length":10673,"saved":false}
{"ts":1365940682976,"patch":[[{"diffs":[[0,"tionDots"],[-1,".replace(/{|}|\"/g, \"\")"],[0,");\r\n    "]],"start1":7136,"start2":7136,"length1":38,"length2":16}]],"length":10651,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366017972222,"patch":[[{"diffs":[[0,"  lastImgEmotion"],[1,"Dots"],[0," = lastImgEmotio"]],"start1":5231,"start2":5231,"length1":32,"length2":36}]],"length":10655,"saved":false}
{"ts":1366017991737,"patch":[[{"diffs":[[0,"ts);\r\n    \r\n    "],[-1," "],[0,"res.set('Content"]],"start1":5171,"start2":5171,"length1":33,"length2":32},{"diffs":[[0,"'text/plain');\r\n"],[-1," "],[0,"    lastImgEmoti"]],"start1":5211,"start2":5211,"length1":33,"length2":32}]],"length":10653,"saved":false}
{"ts":1366018004516,"patch":[[{"diffs":[[0,"\r\n    \r\n    "],[-1," "],[0,"res.set('Con"]],"start1":5473,"start2":5473,"length1":25,"length2":24},{"diffs":[[0,"t/plain');\r\n"],[-1," "],[0,"    lastImgE"]],"start1":5513,"start2":5513,"length1":25,"length2":24}]],"length":10651,"saved":false}
{"ts":1366018010000,"patch":[[{"diffs":[[0,"es) {\r\n     "],[-1,"\r\n    "],[0," \r\n"],[-1," "],[0,"    console."]],"start1":5379,"start2":5379,"length1":34,"length2":27},{"diffs":[[0,"gEmotion);\r\n"],[-1,"    \r\n"],[0,"    res.set("]],"start1":5456,"start2":5456,"length1":30,"length2":24}]],"length":10638,"saved":false}
{"ts":1366018113897,"patch":[[{"diffs":[[0,"     \r\n     "],[1,"   "],[0,"lastImgEmoti"]],"start1":7008,"start2":7008,"length1":24,"length2":27},{"diffs":[[0,"tionDots);\r\n"],[1,"       fs.unlink(imgUrl)\r\n"],[0,"    });\r\n   "]],"start1":7126,"start2":7126,"length1":24,"length2":50}]],"length":10667,"saved":false}
{"ts":1366018137671,"patch":[[{"diffs":[[0,"k(imgUrl"],[1,", function(){}"],[0,")\r\n    }"]],"start1":7153,"start2":7153,"length1":16,"length2":30}]],"length":10681,"saved":false}
{"ts":1366018138945,"patch":[[{"diffs":[[0,"ion(){})"],[1,";"],[0,"\r\n    })"]],"start1":7168,"start2":7168,"length1":16,"length2":17}]],"length":10682,"saved":false}
{"contributors":[],"silentsave":false,"ts":1367256307049,"patch":[[{"diffs":[[0,"r);\r\n});\r\n\r\n"],[1,"function getRandomArbitrary(min, max) {\r\n  return Math.random() * (max - min) + min;\r\n}\r\n\r\n\r\nfunction  hndlEmoError(res) {\r\n    \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],[0,"\r\n\r\n\r\napp.li"]],"start1":10519,"start2":10519,"length1":24,"length2":169}]],"length":10827,"saved":false}
{"ts":1367256468505,"patch":[[{"diffs":[[0,") {\r\n   "],[-1," \r\n}"],[1,"\r\n   var n =  getRandomArbitrary(0,50);\r\n    \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],[0,"\r\n\r\n\r\n\r\n"]],"start1":10650,"start2":10650,"length1":20,"length2":88}]],"length":10895,"saved":false}
{"ts":1367256473986,"patch":[[{"diffs":[[0,"ary(0,50);\r\n"],[1,"   var h =  getRandomArbitrary(0,50);\r\n"],[0,"    \r\n}\r\n\r\n\r"]],"start1":10687,"start2":10687,"length1":24,"length2":63}]],"length":10934,"saved":false}
{"ts":1367256503849,"patch":[[{"diffs":[[0,"bitrary(0,50"],[1,"-n"],[0,");\r\n    \r\n}\r"]],"start1":10722,"start2":10722,"length1":24,"length2":26}]],"length":10936,"saved":false}
{"ts":1367256527594,"patch":[[{"diffs":[[0,"   var n"],[1,"t"],[0," =  getR"]],"start1":10660,"start2":10660,"length1":16,"length2":17},{"diffs":[[0,"   var h"],[1,"ate"],[0," =  getR"]],"start1":10700,"start2":10700,"length1":16,"length2":19},{"diffs":[[0,"y(0,50-n);\r\n"],[1,"   var happy = getRandomArbitrary(0,50-hate);\r\n"],[0,"    \r\n}\r\n\r\n\r"]],"start1":10732,"start2":10732,"length1":24,"length2":71}]],"length":10987,"saved":false}
{"ts":1367256541547,"patch":[[{"diffs":[[0,",50-hate);\r\n"],[1,"   var sad = getRandomArbitrary(0,50-happy);\r\n"],[0,"    \r\n}\r\n\r\n\r"]],"start1":10779,"start2":10779,"length1":24,"length2":70}]],"length":11033,"saved":false}
{"ts":1367256547294,"patch":[[{"diffs":[[0,"y(0,50-n"],[1,"t"],[0,");\r\n   v"]],"start1":10732,"start2":10732,"length1":16,"length2":17}]],"length":11034,"saved":false}
{"ts":1367256585833,"patch":[[{"diffs":[[0,");\r\n    "],[1,"var str = {netrual : nt, hate: hate, happy:happy, sad:sad};"],[0,"\r\n}\r\n\r\n\r"]],"start1":10834,"start2":10834,"length1":16,"length2":75}]],"length":11093,"saved":false}
{"ts":1367256889854,"patch":[[{"diffs":[[0,"max) {\r\n"],[1,"  \r\n"],[0,"  return"],[1," parseInt()"],[0," Math.ra"]],"start1":10564,"start2":10564,"length1":24,"length2":39},{"diffs":[[0,"n) + min"],[1,")"],[0,";\r\n}\r\n\r\n"]],"start1":10621,"start2":10621,"length1":16,"length2":17}]],"length":11109,"saved":false}
{"ts":1367256895048,"patch":[[{"diffs":[[0,"happy);\r\n   "],[-1," "],[0,"var str = {n"]],"start1":10845,"start2":10845,"length1":25,"length2":24}]],"length":11108,"saved":false}
{"ts":1367256912168,"patch":[[{"diffs":[[0,":sad};\r\n"],[1,"   res.json(res);\r\n"],[0,"}\r\n\r\n\r\n\r"]],"start1":10910,"start2":10910,"length1":16,"length2":35}]],"length":11127,"saved":false}
{"ts":1367256915930,"patch":[[{"diffs":[[0,"es.json("],[-1,"res"],[1,"str"],[0,");\r\n}\r\n\r"]],"start1":10922,"start2":10922,"length1":19,"length2":19}]],"length":11127,"saved":false}
{"ts":1367256945302,"patch":[[{"diffs":[[0,"img)"],[1," {"],[0,"\r\n     "],[-1,"res.send('error');"],[1," hndlEmoError(res)\r\n    }"],[0,"\r\n  "]],"start1":969,"start2":969,"length1":33,"length2":42}]],"length":11136,"saved":false}
{"ts":1367256950843,"patch":[[{"diffs":[[0,"r(res)\r\n"],[1,"      return;\r\n"],[0,"    }\r\n "]],"start1":994,"start2":994,"length1":16,"length2":31}]],"length":11151,"saved":false}
{"ts":1367256952654,"patch":[[{"diffs":[[0,"ror(res)"],[1,";"],[0,"\r\n      "]],"start1":992,"start2":992,"length1":16,"length2":17}]],"length":11152,"saved":false}
{"ts":1367256973414,"patch":[[{"diffs":[[0,"arseInt("],[-1,") "],[0,"Math.ran"]],"start1":10611,"start2":10611,"length1":18,"length2":16}]],"length":11150,"saved":false}
{"ts":1367257111677,"patch":[[{"diffs":[[0,"img)"],[-1," {"],[0,"\r\n     "],[-1," hndlEmoError(res);\r\n      return;\r\n    }"],[1,"res.send('error');"],[0,"\r\n  "]],"start1":969,"start2":969,"length1":58,"length2":33},{"diffs":[[0,"        "],[-1,"res.json(err.message"],[1,"hndlEmoError(res"],[0,");\r\n    "]],"start1":6294,"start2":6294,"length1":36,"length2":32},{"diffs":[[0,"arseInt("],[1,") "],[0,"Math.ran"]],"start1":10582,"start2":10582,"length1":16,"length2":18}]],"length":11123,"saved":false}
{"ts":1367257122437,"patch":[[{"diffs":[[0,"   \r\n       "],[-1,"//"],[0,"console.log("]],"start1":6211,"start2":6211,"length1":26,"length2":24}]],"length":11121,"saved":false}
{"ts":1367257126101,"patch":[[{"diffs":[[0,"ne \""],[-1,"+ rslt.body "],[0,");\r\n"]],"start1":6254,"start2":6254,"length1":20,"length2":8}]],"length":11109,"saved":false}
{"ts":1367257138531,"patch":[[{"diffs":[[0,"arseInt("],[-1,") "],[0,"Math.ran"]],"start1":10568,"start2":10568,"length1":18,"length2":16}]],"length":11107,"saved":false}
{"ts":1367257199250,"patch":[[{"diffs":[[0,"    "],[-1,"res.json(obj.status.code"],[1,"  hndlEmoError(res"],[0,");\r\n"]],"start1":6435,"start2":6435,"length1":32,"length2":26}]],"length":11101,"saved":false}
{"ts":1367263958945,"patch":[[{"diffs":[[0,":sad};\r\n"],[1,"   lastImgEmotion = str.replace(/{|}|\"/g, \"\");\r\n"],[0,"   res.j"]],"start1":10884,"start2":10884,"length1":16,"length2":64}]],"length":11149,"saved":false}
{"ts":1367264070918,"patch":[[{"diffs":[[0,"trary(0,"],[-1,"5"],[1,"3"],[0,"0);\r\n   "]],"start1":10676,"start2":10676,"length1":17,"length2":17},{"diffs":[[0,"y(0,"],[-1,"50-nt"],[1,"30"],[0,");\r\n"]],"start1":10722,"start2":10722,"length1":13,"length2":10},{"diffs":[[0,"y(0,"],[-1,"50-hate);"],[1,"30);\r\n   var sum = nt "],[0,"\r\n  "]],"start1":10764,"start2":10764,"length1":17,"length2":30}]],"length":11159,"saved":false}
{"ts":1367264106860,"patch":[[{"diffs":[[0,"ar s"],[-1,"um = nt \r\n   var sad = getRandomArbitrary(0,50-"],[1,"ad =  100- (nt +hate + "],[0,"happy)"],[-1,";"],[0,"\r\n  "]],"start1":10778,"start2":10778,"length1":62,"length2":37}]],"length":11134,"saved":false}
{"ts":1367264162352,"patch":[[{"diffs":[[0,"happy)\r\n"],[1,"   \r\n"],[0,"   var s"]],"start1":10805,"start2":10805,"length1":16,"length2":21}]],"length":11139,"saved":false}
{"ts":1367264165084,"patch":[[{"diffs":[[0,"py, sad:"],[-1,"sad"],[1,"nt"],[0,"};\r\n   l"]],"start1":10867,"start2":10867,"length1":19,"length2":18}]],"length":11138,"saved":false}
{"ts":1367264170052,"patch":[[{"diffs":[[0,"trual : "],[-1,"nt"],[1,"sad"],[0,", hate: "]],"start1":10834,"start2":10834,"length1":18,"length2":19}]],"length":11139,"saved":false}
{"ts":1367264212050,"patch":[[{"diffs":[[0,"mgEmotion = str."],[1,"toString()."],[0,"replace(/{|}|\"/g"]],"start1":10890,"start2":10890,"length1":32,"length2":43}]],"length":11150,"saved":false}
{"ts":1367264280145,"patch":[[{"diffs":[[0,"n = "],[-1,"str.toString("],[1,"JSON.stringify(str"],[0,").re"]],"start1":10898,"start2":10898,"length1":21,"length2":26}]],"length":11155,"saved":false}
{"ts":1367264408995,"patch":[[{"diffs":[[0,"ndomArbitrary(0,"],[-1,"3"],[1,"10"],[0,"0);\r\n   var hate"]],"start1":10668,"start2":10668,"length1":33,"length2":34},{"diffs":[[0,"ndomArbitrary(0,"],[-1,"30"],[1,"nt"],[0,");\r\n   var happy"]],"start1":10711,"start2":10711,"length1":34,"length2":34}]],"length":11156,"saved":false}
{"ts":1367264412043,"patch":[[{"diffs":[[0,"trary(0,"],[-1,"30"],[1,"hate"],[0,");\r\n   v"]],"start1":10761,"start2":10761,"length1":18,"length2":20}]],"length":11158,"saved":false}
{"ts":1367264466088,"patch":[[{"diffs":[[0,"happy)\r\n"],[1,"   if(sad <0)\r\n     sad = sad *-1;\r\n"],[0,"   \r\n   "]],"start1":10808,"start2":10808,"length1":16,"length2":52}]],"length":11194,"saved":false}
{"ts":1367264474433,"patch":[[{"diffs":[[0,"+ happy)"],[1,";"],[0,"\r\n   if("]],"start1":10806,"start2":10806,"length1":16,"length2":17}]],"length":11195,"saved":false}
{"ts":1367264489099,"patch":[[{"diffs":[[0,"d = "],[-1,"sad *-1"],[1,"0"],[0,";\r\n "]],"start1":10839,"start2":10839,"length1":15,"length2":9}]],"length":11189,"saved":false}
{"contributors":[],"silentsave":false,"ts":1367305728259,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"f"],[0,"unction "],[-1,"getRandomArbitrary(min, max"],[1,"hdnlEmoErr(res"],[0,") {\r\n"],[-1,"  "],[0,"\r\n  "],[-1,"return parseInt(Math.random() * (max - min) + min);\r\n}\r\n\r\n\r\nfunction  hndlEmoError(res) {\r\n   \r\n   "],[1,"  var arr  = [\"neutral\",\"sadness\",\"disgust\",\"anger\",\"surprise\",\"fear\",\"happiness\"]\r\n\tarr = shuffleArr(arr);\r\n\tvar res ={};\r\n\tvar sum = 100;\r\n\tfor(var i =0; i < arr.length; i++)\r\n\t{\r\n\t\t"],[0,"var "],[-1,"n"],[1,"i"],[0,"t ="],[-1," "],[0," get"]],"start1":10503,"start2":10503,"length1":163,"length2":231},{"diffs":[[0,"y(0,"],[-1,"100"],[1,"sum"],[0,");\r\n"],[-1,"   var hate =  getRandomArbitrary(0,nt);\r\n   var happy = getRandomArbitrary(0,hate);\r\n   var sad =  100- (nt +hate + happy);\r\n   if(sad <0)\r\n     sad = 0;\r\n   \r\n   var str = {netrual : sad, hate: hate, happy:happy, sad:nt};\r\n   lastImgEmotion = JSON.stringify(str).replace(/{|}|\"/g, \"\");\r\n   res.json(str);\r\n}"],[1,"\t\tsum = sum -it;\r\n\t\tres[arr[i]] = it /100;\r\n\t}\r\n\tres.send(JSON.stringify(res).replace(/{|}|\"/g, \"\"));\r\n\r\n}\r\nfunction getRandomArbitrary(min, max) {\r\n\r\n\treturn parseInt(Math.random() * (max - min) + min);\r\n}\r\n\r\nfunction shuffleArr(arr) {\r\n\t\r\n\tvar i = arr.length;\r\n\twhile (--i) {\r\n\t\tvar j = Math.floor(Math.random() * (i + 1))\r\n\t\tvar temp = arr[i];\r\n\t\tarr[i] = arr[j];\r\n\t\tarr[j] = temp;\r\n\t}\r\n\r\n   return arr; // for convenience, in case we want a reference to the array"],[0,"\r\n\r\n"],[1,"}"],[0,"\r\n\r\n"]],"start1":10748,"start2":10748,"length1":328,"length2":487}]],"length":11416,"saved":false}
{"ts":1367305746444,"patch":[[{"diffs":[[0,"0;\r\n\t}\r\n"],[1,"    console.log(JSON.stringify(res).replace(/{|}|\"/g, \"\"))\r\n"],[0,"\tres.sen"]],"start1":10799,"start2":10799,"length1":16,"length2":76}]],"length":11476,"saved":false}
{"ts":1367305747941,"patch":[[{"diffs":[[0,"/g, \"\"))"],[1,";"],[0,"\r\n\tres.s"]],"start1":10857,"start2":10857,"length1":16,"length2":17}]],"length":11477,"saved":false}
{"ts":1367305757198,"patch":[[{"diffs":[[0,"\n});\r\n\r\n"],[1,"f"],[0,"unction "]],"start1":10499,"start2":10499,"length1":16,"length2":17}]],"length":11478,"saved":false}
{"ts":1367305889889,"patch":[[{"diffs":[[0,"on h"],[-1,"d"],[0,"n"],[1,"d"],[0,"lEmoErr"],[1,"or"],[0,"(res"]],"start1":10513,"start2":10513,"length1":17,"length2":19}]],"length":11480,"saved":false}
{"ts":1367306006253,"patch":[[{"diffs":[[0,";\r\n\tres."],[-1,"send"],[1,"json"],[0,"(JSON.st"]],"start1":10868,"start2":10868,"length1":20,"length2":20}]],"length":11480,"saved":false}
{"ts":1367306045162,"patch":[[{"diffs":[[0,"EmoError(res"],[1,"p"],[0,") {\r\n\r\n    v"]],"start1":10520,"start2":10520,"length1":24,"length2":25},{"diffs":[[0,");\r\n\tres"],[1,"p"],[0,".json(JS"]],"start1":10868,"start2":10868,"length1":16,"length2":17}]],"length":11482,"saved":false}
{"ts":1367306083470,"patch":[[{"diffs":[[0,"\r\n\tresp."],[-1,"json"],[1,"send"],[0,"(JSON.st"]],"start1":10870,"start2":10870,"length1":20,"length2":20}]],"length":11482,"saved":false}
{"ts":1367306158854,"patch":[[{"diffs":[[0,"0;\r\n\t}\r\n"],[1,"    console.log(\"hndlEmoError fake emotion\");\r\n"],[0,"    cons"]],"start1":10803,"start2":10803,"length1":16,"length2":63}]],"length":11529,"saved":false}
{"ts":1367306177810,"patch":[[{"diffs":[[0,"emotion\");\r\n"],[1,"    \r\n    var fakeRes = \"neutral:0,sadness:0,disgust:0,anger:0,surprise:0,fear:0,happiness:0\";\r\n    \r\n"],[0,"    console."]],"start1":10846,"start2":10846,"length1":24,"length2":126}]],"length":11631,"saved":false}
{"ts":1367306363291,"patch":[[{"diffs":[[0,"ral:"],[-1,"0,sadness:0,disgust:0,anger:0,surprise:0,fear:0,happiness:0\""],[1,"\"+res['neutral']+\",sadness:\"+res['sadness']+\",disgust:\"+res['disgust']+\",anger:\"+res['anger']+\",surprise:\"+res['suprise']+\",fear:\"+res['fear']+\",happiness:\"+res['happiness']"],[0,";\r\n "]],"start1":10887,"start2":10887,"length1":68,"length2":181}]],"length":11744,"saved":false}
{"ts":1367306383252,"patch":[[{"diffs":[[0,"log("],[-1,"JSON.stringify(res).replace(/{|}|\"/g, \"\"));\r\n\tresp.send(JSON.stringify(res).replace(/{|}|\"/g, \"\")"],[1,"fakeRes);\r\n\tresp.send(fakeRes"],[0,");\r\n"]],"start1":11085,"start2":11085,"length1":105,"length2":37}]],"length":11676,"saved":false}
{"ts":1367306389769,"patch":[[{"diffs":[[0,"ole.log("],[1,"\"fakeRes =>\"+"],[0,"fakeRes)"]],"start1":11081,"start2":11081,"length1":16,"length2":29}]],"length":11689,"saved":false}
{"ts":1367306422280,"patch":[[{"diffs":[[0,"isgust:\""],[1,"\r\n    "],[0,"+res['di"]],"start1":10938,"start2":10938,"length1":16,"length2":22}]],"length":11695,"saved":false}
{"ts":1367306464964,"patch":[[{"diffs":[[0,"= it /10"],[-1,"0"],[0,";\r\n\t}\r\n "]],"start1":10795,"start2":10795,"length1":17,"length2":16}]],"length":11694,"saved":false}
{"ts":1367306481513,"patch":[[{"diffs":[[0,"= it /10"],[1," || 0"],[0,";\r\n\t}\r\n "]],"start1":10795,"start2":10795,"length1":16,"length2":21}]],"length":11699,"saved":false}
{"ts":1367306516572,"patch":[[{"diffs":[[0,"+res['su"],[1,"r"],[0,"prise']+"]],"start1":11007,"start2":11007,"length1":16,"length2":17}]],"length":11700,"saved":false}
{"ts":1367306520379,"patch":[[{"diffs":[[0,"/10 "],[-1,"|| 0"],[0,";\r\n\t"]],"start1":10800,"start2":10800,"length1":12,"length2":8}]],"length":11696,"saved":false}
{"ts":1367306524828,"patch":[[{"diffs":[[0,"= it /10"],[1,"0"],[0," ;\r\n\t}\r\n"]],"start1":10795,"start2":10795,"length1":16,"length2":17}]],"length":11697,"saved":false}
{"ts":1367307083013,"patch":[[{"diffs":[[0,"eRes);\r\n"],[1,"    lastImgEmotion = fakeRes;\r\n"],[0,"\tresp.se"]],"start1":11113,"start2":11113,"length1":16,"length2":47}]],"length":11728,"saved":false}
{"contributors":[],"silentsave":false,"ts":1367324315720,"patch":[[{"diffs":[[0,"bstring(indx"],[1,"+1"],[0,");\r\n    \r\n  "]],"start1":1366,"start2":1366,"length1":24,"length2":26}]],"length":11730,"saved":false}
{"ts":1367327538494,"patch":[[{"diffs":[[0,";\r\n          }\r\n"],[1,"          if(!data) {\r\n              res.send(\"\");\r\n          }\r\n"],[0,"          var mt"]],"start1":1802,"start2":1802,"length1":32,"length2":97}]],"length":11795,"saved":false}
{"ts":1367328858036,"patch":[[{"diffs":[[0,";\r\n          }\r\n"],[1,"          console.log(\"data \"+data);\r\n"],[0,"          var mt"]],"start1":1867,"start2":1867,"length1":32,"length2":70}]],"length":11833,"saved":false}
{"ts":1367328907948,"patch":[[{"diffs":[[0,"send(err);\r\n"],[1,"              return;\r\n"],[0,"          }\r"]],"start1":1793,"start2":1793,"length1":24,"length2":47},{"diffs":[[0,".send(\"\");\r\n"],[1,"              return;\r\n"],[0,"          }\r"]],"start1":1881,"start2":1881,"length1":24,"length2":47}]],"length":11879,"saved":false}
{"ts":1367392123844,"patch":[[{"diffs":[[0,"  \r\n            "],[1,"//"],[0,"console.log(\"nav"]],"start1":2095,"start2":2095,"length1":32,"length2":34}]],"length":11881,"saved":false}
{"ts":1367392128158,"patch":[[{"diffs":[[0,"   }\r\n          "],[1,"//"],[0,"console.log(\"dat"]],"start1":1923,"start2":1923,"length1":32,"length2":34}]],"length":11883,"saved":false}
